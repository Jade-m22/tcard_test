<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TrustCard Test</title>
  <link rel="stylesheet" href="./styles.css" />
  <meta name="color-scheme" content="dark light" />
</head>
<body>
  <header class="topbar">
    <div class="left"><h1>TRUST CARD TEST</h1></div>

    <details class="importer" id="importer">
      <summary class="btn">Import…</summary>
      <div class="import-grid">
        <label class="btn file-btn">Background
          <input id="bgInput" type="file" accept="image/*" hidden />
        </label>
        <label class="btn file-btn">Face
          <input id="faceInput" type="file" accept="image/*" hidden />
        </label>
        <label class="btn file-btn">Watermark
          <input id="wmInput" type="file" accept="image/*" hidden />
        </label>
        <label class="btn file-btn">Frame
          <input id="frameInput" type="file" accept="image/*" hidden />
        </label>
        <label class="btn file-btn">Avatar
          <input id="avatarInput" type="file" accept="image/*" hidden />
        </label>
      </div>
    </details>
  </header>

  <main class="layout">
    
    <aside class="thumbs-rail" aria-label="Thumbnails">
      <button class="thumbs-handle" id="thumbsHandle" aria-controls="thumbsFlyout" aria-expanded="true">Thumbnails</button>
      <div class="thumbs-flyout panel" id="thumbsFlyout" aria-hidden="false">
        <div class="thumbs-header">
          <button class="apply" id="closeThumbs" aria-label="Close thumbnails">Close</button>
        </div>
        <div class="thumbs" id="imagesThumbs">
          <div class="thumb thumb-empty" data-empty title="Empty">Empty</div>
        </div>
      </div>
    </aside>

    
    <aside class="drops-rail" aria-label="Drop zones">
      <div class="panel drop-panel" id="leftDropPanel">
        <h2>Drop here</h2>
        <div class="drop-zones">
          <div class="drop-zone" data-target="bgImg"   title="Background">BG</div>
          <div class="drop-zone" data-target="faceImg" title="Face">Face</div>
          <div class="drop-zone" data-target="wmImg"   title="Watermark">WM</div>
          <div class="drop-zone" data-target="frameImg" title="Frame">Frame</div>
        </div>
      </div>
    </aside>

    
    <section class="stage" aria-label="Card stage">
      <div class="card" id="card" data-tilt>
        <img id="bgImg"   class="bg-img"   src="./assets/images/img1.jpg" alt="background" />
        <img id="faceImg" class="card-img is-empty" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8Xw8AAn8B9p1pOQAAAABJRU5ErkJggg==" alt="face" />
        <img id="wmImg"   class="wm-img"   src="./assets/images/img6.png" alt="filigrane" />

        <div class="glare" aria-hidden="true"></div>
        <img id="frameImg" class="frame-img" src="./assets/catalog/frame/abeille/common.svg" alt="frame" />

        <div class="liquid-frame">
          <div class="avatar-panel" id="avatarPanel">
            <div class="avatar-ring"></div>
            <img id="avatarImg" src="./assets/avatars/avatar.jpg" alt="avatar" />
          </div>
          <div class="info-panel" id="infoPanel">
            <div class="info-grid" id="infoGrid"></div>
          </div>
        </div>
      </div>
    </section>

    
    <aside class="sidebar" aria-label="Options">
      <button id="randomizeBtn" class="cta-random">
        <span class="random-icon">↻</span> Randomize
      </button>

      
      <div class="panel">
        <h2>Compose</h2>


        
        <table class="composer-table" id="composer">
          <thead>
            <tr>
              <th style="width:1%"></th>
              <th>Category</th>
              <th>Theme</th>
              <th>Rarity</th>
              <th>Show</th>
            </tr>
          </thead>
          <tbody>
            <tr data-cat="background">
              <td style="text-align:center"><button class="apply row-rand big" title="Random"><span class="random-icon">↻</span></button></td>
              <td>BG</td>
              <td>
                <select class="theme" aria-label="Background variant">
                  <option value="1">1</option><option value="2">2</option>
                  <option value="3">3</option><option value="4">4</option>
                  <option value="5">5</option>
                </select>
              </td>
              <td>
                <select class="rarity">
                  <option value="common" data-color="#9ea7b3">Common</option>
                  <option value="rare" data-color="#2196f3">Rare</option>
                  <option value="epic" data-color="#9c27b0">Epic</option>
                  <option value="legendary" data-color="#ff9800">Legendary</option>
                  <option value="ancient" data-color="#795548">Ancient</option>
                  <option value="mystic" data-color="#e91e63">Mystic</option>
                </select>
              </td>
              <td style="text-align:center"><input type="checkbox" class="show-toggle" data-target="bg" checked /></td>
            </tr>

            <tr data-cat="frame">
              <td style="text-align:center"><button class="apply row-rand big" title="Random"><span class="random-icon">↻</span></button></td>
              <td>Frame</td>
              <td>
                <select class="theme">
                  <option value="erudit">scholar</option>
                  <option value="abeille" selected>bee</option>
                  <option value="sphere">sphere</option>
                  <option value="relic">relic</option>
                </select>
              </td>
              <td>
                <select class="rarity">
                  <option value="common" data-color="#9ea7b3" selected>Common</option>
                  <option value="rare" data-color="#2196f3">Rare</option>
                  <option value="epic" data-color="#9c27b0">Epic</option>
                  <option value="legendary" data-color="#ff9800">Legendary</option>
                  <option value="ancient" data-color="#795548">Ancient</option>
                  <option value="mystic" data-color="#e91e63">Mystic</option>
                </select>
              </td>
              <td style="text-align:center"><input type="checkbox" class="show-toggle" data-target="frame" checked /></td>
            </tr>

            <tr data-cat="face">
              <td style="text-align:center"><button class="apply row-rand big" title="Random"><span class="random-icon">↻</span></button></td>
              <td>Face</td>
              <td>
                <select class="theme">
                  <option value="erudit">scholar</option>
                  <option value="abeille">bee</option>
                  <option value="sphere">sphere</option>
                  <option value="relic">relic</option>
                </select>
              </td>
              <td>
                <select class="rarity">
                  <option value="common" data-color="#9ea7b3">Common</option>
                  <option value="rare" data-color="#2196f3">Rare</option>
                  <option value="epic" data-color="#9c27b0">Epic</option>
                  <option value="legendary" data-color="#ff9800">Legendary</option>
                  <option value="ancient" data-color="#795548">Ancient</option>
                  <option value="mystic" data-color="#e91e63">Mystic</option>
                </select>
              </td>
              <td style="text-align:center"><input type="checkbox" class="show-toggle" data-target="face" checked /></td>
            </tr>

            <tr data-cat="watermark">
              <td style="text-align:center"><button class="apply row-rand big" title="Random"><span class="random-icon">↻</span></button></td>
              <td>WM</td>
              <td>
                <select class="theme">
                  <option value="erudit">scholar</option>
                  <option value="abeille">bee</option>
                  <option value="sphere">sphere</option>
                  <option value="relic">relic</option>
                </select>
              </td>
              <td>
                <select class="rarity">
                  <option value="common" data-color="#9ea7b3">Common</option>
                  <option value="rare" data-color="#2196f3">Rare</option>
                  <option value="epic" data-color="#9c27b0">Epic</option>
                  <option value="legendary" data-color="#ff9800">Legendary</option>
                  <option value="ancient" data-color="#795548">Ancient</option>
                  <option value="mystic" data-color="#e91e63">Mystic</option>
                </select>
              </td>
              <td style="text-align:center"><input type="checkbox" class="show-toggle" data-target="wm" checked /></td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="panel" id="personalize">
        <h2>Personalize</h2>
        <div class="fold-body">
          <div class="panel">
            <h3>Transform</h3>
            <div class="row">
              <label for="transformTarget">Target</label>
              <select id="transformTarget">
                <option value="bg">Background</option>
                <option value="face">Face</option>
                <option value="wm">Watermark</option>
                <option value="frame">Frame</option>
              </select>
            </div>
            <div class="row">
              <label for="transformScale">Scale</label>
              <input id="transformScale" type="range" min="0.25" max="3" step="0.01" value="1" />
            </div>
            <div class="row">
              <label for="transformOffsetY">Offset Y</label>
              <input id="transformOffsetY" type="range" min="-300" max="300" step="1" value="0" />
            </div>
            <div class="row" style="justify-content:flex-end">
              <button id="transformReset" class="apply">Reset</button>
            </div>
          </div>

          <div class="panel">
            <h3>Info</h3>
            <table class="composer-table" id="infoConfig">
              <thead>
                <tr>
                  <th>Label</th>
                  <th>Value</th>
                  <th style="width:1%"></th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
            <div style="margin-top:8px; display:flex; gap:8px;">
              <button id="addInfoRow" class="apply btn-accent">+ Add</button>
              <button id="clearInfoRows" class="apply">Clear all</button>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <noscript>Activez JavaScript pour voir les effets.</noscript>
  <script src="./app.js"></script>
</body>
</html>
